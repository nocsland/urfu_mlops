# Приложение Translator и его CI/CD пайплайн

## О проекте

Наш проект - это приложение "Translator", которое предоставляет возможность перевода текстов на русский и английский
языки с использованием API переводчика. Оно позволяет пользователям быстро и удобно получать переводы текстов на двух
основных языках.

## Особенности

- **Многоязычность**: Приложение поддерживает перевод на два основных языка - русский и английский, что делает его
  удобным инструментом для перевода наиболее распространенных языков.
- **Docker**: Мы используем контейнеризацию с помощью Docker для обеспечения простоты развертывания и масштабируемости
  нашего приложения.
- **Тестирование**: Мы интегрировали автоматизированные тесты с использованием фреймворка pytest для обеспечения
  стабильности и надежности нашего приложения.
- **CI/CD пайплайн**: Мы создали непрерывный процесс интеграции и доставки (CI/CD) с помощью Jenkins, что позволяет нам
  автоматизировать сборку, тестирование и развертывание приложения.

## Требования

Для развертывания и запуска приложения необходимо иметь установленные следующие компоненты:

- Docker
- Python 3
- pip
- Jenkins
- Allure
- dvc

## Установка и запуск

1. **Клонирование репозитория**:
   ```bash
   git clone https://github.com/nocsland/urfu_mlops.git
   cd urfu_mlops
   ```

2. **Настройка пайплайна Jenkins**:
    - Установите и настройте Jenkins на сервере.
    - Создайте новый проект и укажите в качестве источника кода репозиторий проекта.
    - Скопируйте содержимое файла Jenkinsfile в ваш пайплайн.

3. **Запуск пайплайна**:
    - Запустите пайплайн в Jenkins и наблюдайте за его выполнением через веб-интерфейс.
    - Пайплайн можно запустить с кастомной ветки, указав ее в параметрах запуска.

## Последовательность действий в пайплайне

1. **Остановка и удаление старого контейнера и образа**: Предварительно останавливает и удаляет предыдущий контейнер и
   образ приложения, если они существуют.
2. **Подготовка**: Очищает рабочее пространство и проверяет исходный код из репозитория.
3. **Проверка**: Проверяет указанную ветку из Git-репозитория.
4. **Загрузка набора данных**: Загружает необходимые наборы данных с использованием Data Version Control (DVC).
5. **Сборка образа**: Создает Docker-образ с именем 'translator-img' для приложения переводчика.
6. **Запуск контейнера**: Запускает контейнер Docker с именем 'translator-app' на основе созданного образа.
7. **Установка зависимостей**: Настраивает виртуальное окружение, устанавливает зависимости Python, перечисленные
   в `requirements.txt`.
8. **Запуск тестов**: Выполняет автоматизированные тесты с использованием pytest и генерирует отчеты о тестах Allure.
9. **Генерация отчета Allure**: После выполнения тестов формируется отчет Allure, содержащий результаты тестирования.

## Использование API

После запуска приложения вы можете использовать следующие эндпоинты для перевода текста:
   
- **POST /translate/ru-to-en/**: Перевод текста с русского на английский.
- **POST /translate/en-to-ru/**: Перевод текста с английского на русский.

Пример запроса:
```
json { "text": "Привет, мир!" }
```

Ответ:  
```
json { "translated_text": "Hello, world!" }
```

## Наша команда

- Надежда Сопилова
- Аркадий Дубовик
- Максим Фролов
- Юрий Запатоцкий
- Евгений Тимофеев
- Антон Власов

Благодарим вас за ваш интерес к нашему проекту!

