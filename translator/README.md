# MLOps Проект простого переводчика с поддержкой 2-х языков, русского и английского

Этот проект представляет собой API-приложение для перевода текста между английским и русским языками, используя модели машинного перевода от Helsinki-NLP.

Приложение развернуто с использованием Docker и FastAPI, а также интегрировано с Jenkins для автоматизации процесса сборки и развертывания.

## Цель проекта
Разработать конвеер машинного обучения data-продукта

## Структура проекта

### Описание основных компонентов:

- **data/datasets**: Здесь хранятся наборы данных, требующиеся для дальнейшего развития проекта.
- **Dockerfile**: Файл для сборки Docker образа приложения.
- **Jenkinsfile**: Файл конфигурации для Jenkins, который автоматизирует процесс сборки и развертывания приложения.
- **requirements.txt**: Файл с зависимостями Python, необходимыми для работы приложения.
- **samples**: Примеры скриптов для работы с API переводчика.
- **src/app.py**: Основной файл приложения, который содержит логику работы API для перевода текста.
- **tests**: Тесты для проверки корректности работы приложения.

## Как запустить проект

### Локальный запуск

1. Установите зависимости из `requirements.txt`:
```shell
pip install -r requirements.txt
```
2. Запустите приложение:
```shell
uvicorn src.app:app --host 0.0.0.0 --port 8000
```

### Запуск в Docker

1. Соберите Docker образ:
```shell
docker build -t translator-img .
```
2. Запустите контейнер:
```shell
docker run -d -p 8000:8000 --name translator-app translator-img
```

### Интеграция с Jenkins

Для автоматизации процесса сборки и развертывания используется Jenkins. Конфигурация Jenkins описана в `Jenkinsfile`.

## Использование API

После запуска приложения вы можете использовать следующие эндпоинты для перевода текста:

- **POST /translate/ru-to-en/**: Перевод текста с русского на английский.
- **POST /translate/en-to-ru/**: Перевод текста с английского на русский.

Пример запроса:
```
json { "text": "Привет, мир!" }
```

Ответ:
```
json { "translated_text": "Hello, world!" }
```


## Сборка

Наш проект представляет сборку pipeline Jenkins, в рамках этой сборки происходит следующие:

1. Зачистка старого пространства: Мы начинаем с чистого листа, зачищая любые предыдущие проекты, чтобы обеспечить чистоту и безопасность нашего рабочего пространства.
2. Подготовка к работе: Останавливаем все работающие контейнеры и удаляем старые образы Docker, чтобы освободить место для новых инициатив.
3. Сборка и скачивание датасета: С помощью облачного хранилища Google Drive, мы обеспечиваем надежное и удобное хранение наших датасетов. Ссылка на наш каталог: 
https://drive.google.com/drive/folders/170VXAxJA1hgEDHZsGUZs1qQgVxiFoWDJ
4. Манипуляции с датасетом: Применяя различные техники версионирования, мы демонстрируем, как можно эффективно управлять и обновлять датасеты в процессе разработки.
5. Сборка Docker образа: Следуя строгому плану, определенному в нашем Dockerfile, мы собираем образ, который станет основой для нашего приложения.
6. Запуск контейнера: Наше приложение, разработанное как API-переводчик, теперь готово к запуску. Оно работает на порту 8000, а Jenkins - на порту 8080. Полные ссылки: 
API-приложение http://91.185.85.43:8000/ и Jenkins: http://91.185.85.43:8080/.
7. Тестирование с помощью примеров запросов: Мы активно тестируем нашу систему, отправляя запросы напрямую, чтобы убедиться в корректности работы приложения.
8. Подготовка к тестированию: Создаем виртуальное окружение и устанавливаем зависимости из файла requirements.txt, что является обязательным условием для успешного прохождения 
тестов.
9. Запуск тестов и сбор артефактов: Наша команда активно работает над тестированием, а также собирает необходимые артефакты для отчета о тестировании.
10. Наше преимущество. Сборка артефактов для публикации: Собираем и публикуем отчеты о тестировании в формате Allure Reports.
11. Наше преимущество. Публикация отчетов: Отчеты о тестировании теперь доступны для просмотра в формате Allure Reports, что позволяет визуализировать результаты тестирования и 
выявлять возможные проблемы.
12. Автоматизация с GitHub Actions: Мы интегрировали наш Jenkins Pipeline с GitHub Actions, чтобы автоматизировать процесс сборки и тестирования. Это обеспечивает непрерывную 
интеграцию и доставку, а также упрощает процесс управления проектом.

Каждый из этих шагов тщательно спроектирован командой проекта и реализован с целью обеспечения высокого качества разработки и надежности нашего приложения.

## Лицензия

MIT License

## Команда проекта

Менеджер проекта – Антон Власов;
Аналитик данных - Надежда Сопилова;
Инженер по машинному обучению – Максим Фролов;
Full Stack-разработчик – Аркадий Дубовик;
QA инженер – Алексей Муравьев;
Технический писатель – Евгений Тимофеев.


